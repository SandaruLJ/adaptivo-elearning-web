image: node:10.15.0

pipelines:
  default:
    - step:
        name: 'Build Docker image'
        script:
          - docker build . -t sparkcoders/elearning-web:latest
        services:
          - docker
    - step:
        name: 'Push Docker image to Docker Hub repository'
        deployment: Test
        script:
          - docker login -u $DOCKER_HUB_USER -p $DOCKER_HUB_PASSWORD
          - docker push sparkcoders/elearning-web:latest
        services:
          - docker
